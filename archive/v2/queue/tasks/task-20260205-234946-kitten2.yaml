task_id: "task-20260205-234946-kitten2"
assigned_to: "kitten2"
timestamp: "2026-02-05T23:49:46"
priority: medium
load_skills: []
description: |
  ## Phase D: è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆ¦ï¼ˆå­çŒ«2æ‹…å½“ï¼‰

  ### ã‚¿ã‚¹ã‚¯1: ãƒ­ãƒƒã‚¯ç¢ºèªã®è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

  scripts/check-lock.sh ã‚’ä½œæˆã™ã‚‹ã«ã‚ƒã€‚

  **æ©Ÿèƒ½:**
  - nawabari.md ã®ã€ŒğŸ”’ ãƒ•ã‚¡ã‚¤ãƒ«ãƒ­ãƒƒã‚¯ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒ‘ãƒ¼ã‚¹
  - æŒ‡å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ­ãƒƒã‚¯ä¸­ã‹ã©ã†ã‹ã‚’åˆ¤å®š
  - ä½¿ç”¨ä¾‹: `./scripts/check-lock.sh src/auth.ts`
  - å‡ºåŠ›: "LOCKED by å­çŒ«1" or "UNLOCKED"

  **å®Ÿè£…è©³ç´°:**
  ```bash
  #!/bin/bash
  # scripts/check-lock.sh

  TARGET_FILE="$1"

  if [ -z "$TARGET_FILE" ]; then
    echo "Usage: $0 <file_path>"
    exit 1
  fi

  # nawabari.md ã®ã€ŒğŸ”’ ãƒ•ã‚¡ã‚¤ãƒ«ãƒ­ãƒƒã‚¯ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æŠ½å‡º
  LOCK_SECTION=$(sed -n '/^## ğŸ”’ ãƒ•ã‚¡ã‚¤ãƒ«ãƒ­ãƒƒã‚¯/,/^## /p' nawabari.md | grep -v '^##')

  # å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ­ãƒƒã‚¯ä¸­ã‹ç¢ºèª
  if echo "$LOCK_SECTION" | grep -q "| $TARGET_FILE |"; then
    OWNER=$(echo "$LOCK_SECTION" | grep "| $TARGET_FILE |" | awk -F'|' '{print $3}' | xargs)
    echo "LOCKED by $OWNER"
    exit 1
  else
    echo "UNLOCKED"
    exit 0
  fi
  ```

  ### ã‚¿ã‚¹ã‚¯2: ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆè‡ªå‹•æ¤œè¨¼ãƒ„ãƒ¼ãƒ«

  scripts/verify-checklist.sh ã‚’ä½œæˆã™ã‚‹ã«ã‚ƒã€‚

  **æ©Ÿèƒ½:**
  - æŒ‡å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆé …ç›®ã‚’æŠ½å‡º
  - æœªãƒã‚§ãƒƒã‚¯é …ç›®ãŒã‚ã‚Œã°è­¦å‘Š
  - ä½¿ç”¨ä¾‹: `./scripts/verify-checklist.sh instructions/kitten.md`

  **å®Ÿè£…è©³ç´°:**
  ```bash
  #!/bin/bash
  # scripts/verify-checklist.sh

  TARGET_FILE="$1"

  if [ -z "$TARGET_FILE" ]; then
    echo "Usage: $0 <file_path>"
    exit 1
  fi

  if [ ! -f "$TARGET_FILE" ]; then
    echo "Error: File not found: $TARGET_FILE"
    exit 1
  fi

  # æœªãƒã‚§ãƒƒã‚¯é …ç›®ã‚’æŠ½å‡ºï¼ˆ- [ ] ã§å§‹ã¾ã‚‹è¡Œï¼‰
  UNCHECKED=$(grep -E '^\s*- \[ \]' "$TARGET_FILE")

  if [ -n "$UNCHECKED" ]; then
    echo "âš ï¸  æœªãƒã‚§ãƒƒã‚¯é …ç›®ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ:"
    echo "$UNCHECKED"
    exit 1
  else
    echo "âœ… å…¨ã¦ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆé …ç›®ãŒå®Œäº†ã—ã¦ã„ã¾ã™"
    exit 0
  fi
  ```

context:
  references:
    - "nawabari.md"
expected_outputs:
  - "scripts/check-lock.sh"
  - "scripts/verify-checklist.sh"
  - "queue/reports/report-task-20260205-234946-kitten2.yaml"
