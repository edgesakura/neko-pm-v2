---
name: cross-project-pattern-migration
description: 複数プロジェクト間で共通パターンを移植する際のワークフロー。用語マッピング、構造調整、検証を含む。マルチエージェントシステム間の知見共有・パターン移植時に使用にゃ。
---

# Cross-Project Pattern Migration - プロジェクト間パターン移植にゃ

## Overview

異なるプロジェクト間で共通の設計パターン、ワークフロー、ベストプラクティスを移植するスキルにゃ。
用語の統一、構造の調整、整合性の検証を体系的に行い、移植の品質と効率を向上させるにゃ〜。

## When to Use

以下のような状況で使用するにゃ：

- **マルチエージェントシステム間の移植**: multi-agent-shogun → neko-pm のようなケース
- **共通パターンの再利用**: 成功したパターンを他プロジェクトに適用
- **ベストプラクティスの共有**: 1つのプロジェクトで確立した手法を横展開
- **システム設計の標準化**: 複数プロジェクトで統一的なアプローチを採用

トリガーキーワード：
- "このパターンを他プロジェクトに移植して"
- "multi-agent-shogun の仕組みを neko-pm にも適用"
- "共通のワークフローを作りたい"

## Instructions

### Phase 1: 事前準備

1. **用語マッピングテーブルの確認/作成**
   - 移植元と移植先の用語対応表を作成にゃ
   - エージェント名、ファイル名、ディレクトリ構造の対応を明確化にゃ
   - 例: docs/terminology-mapping.md

2. **移植対象の特定**
   - どのパターン/機能を移植するか明確化にゃ
   - 移植範囲（ファイル、ディレクトリ、機能単位）を決定にゃ

3. **依存関係の確認**
   - 移植対象が依存する他の要素を洗い出すにゃ
   - 移植先に既に存在する要素を確認にゃ

### Phase 2: 移植実行

1. **ファイルのコピー**
   - 移植元からファイルをコピーにゃ
   - /tmp/ や適切な作業ディレクトリを使用にゃ

2. **用語の一括置換**
   ```bash
   # sedやgrepを使った一括置換
   sed -i 's/SourceTerm/TargetTerm/g' target-file.md
   ```

3. **構造の調整**
   - ファイルパスの変更にゃ
   - ディレクトリ構造の適合にゃ
   - プロジェクト固有の要素の追加/削除にゃ

4. **文脈の調整**
   - 単純な用語置換だけでは不十分な箇所を手動調整にゃ
   - プロジェクトのトーン・ノリに合わせるにゃ
   - 例: 語尾「はっ！」→「にゃ！」

### Phase 3: 検証と統合

1. **整合性チェック**
   - 移植したファイルと既存ファイルの整合性を確認にゃ
   - 参照関係が正しいか検証にゃ
   - ファイルパスが正しいか確認にゃ

2. **競合の解決**
   - 既存の定義と衝突していないか確認にゃ
   - 重複する機能がある場合は統合を検討にゃ

3. **ドキュメントの更新**
   - README.md や CLAUDE.md に移植したパターンを追記にゃ
   - 使い方や参照先を明記にゃ

### Phase 4: テストと確認

1. **動作確認**
   - 移植したパターンが意図通り動作するか確認にゃ
   - エージェントが正しく読み込めるか検証にゃ

2. **ドキュメントレビュー**
   - 用語が統一されているか確認にゃ
   - 説明が移植先のプロジェクトに適合しているか確認にゃ

## Examples

### Example 1: multi-agent-shogun → neko-pm

**移植対象**: context/ ディレクトリと使い方ガイド

**手順**:
1. 用語マッピング確認: docs/terminology-mapping.md
2. ファイルコピー:
   ```bash
   cp /tmp/multi-agent-shogun/context/README.md context/README.md
   ```
3. 用語置換:
   ```bash
   sed -i 's/足軽/子猫/g' context/README.md
   sed -i 's/Ashigaru/子猫/g' context/README.md
   ```
4. 構造調整: neko-pm の階層構造に合わせて修正
5. 検証: 子猫の指示書に参照方法を追記

### Example 2: スキル移植

**移植対象**: skill-creator スキル

**手順**:
1. 用語置換:
   - Shogun → ボスねこ
   - Karo → 番猫
   - dashboard.md → nawabari.md
2. 報告形式変更: 「はっ！」→「にゃ！」
3. プロジェクト固有要件追加: skill_candidate 必須記入ルール
4. 保存先変更: ~/.claude/skills/shogun-* → ~/.claude/skills/neko-*

## Guidelines

### ✅ Do（推奨）

- **用語マッピングテーブルを必ず作成**にゃ
- **機械的な置換後、必ず文脈を確認**にゃ
- **移植元のディレクトリ構造を保持**（可能な限り）にゃ
- **依存関係を事前に確認**にゃ
- **段階的に移植**（一度に全部ではなく、小さく分けて）にゃ

### ❌ Don't（非推奨）

- **用語対応表なしで移植**しないにゃ
- **sed一括置換だけで終わらせる**（必ず文脈確認）にゃ
- **移植元を削除**しないにゃ（参照用に残す）
- **プロジェクトのノリ・文化を無視**しないにゃ
- **整合性チェックをスキップ**しないにゃ〜

### チェックリスト

移植完了時に以下を確認するにゃ：

- [ ] 用語が全て正しく置換されている
- [ ] ファイルパスが移植先の構造に適合している
- [ ] 参照関係が正しい（壊れたリンクがない）
- [ ] プロジェクト固有の要件が追加されている
- [ ] ドキュメントが更新されている
- [ ] 動作確認が完了している

## Related Skills

- **skill-creator**: 移植したパターンをスキル化する際に使用にゃ
- **docs-integration-guide**: 移植後のドキュメント統合に使用にゃ

## Notes

- 移植は「コピー＆調整」であり、「完全な再実装」ではないにゃ
- プロジェクトの文化・ノリに合わせた調整が重要にゃ
- 移植元のディレクトリは /tmp/ に残しておくと、後続作業で参照できるにゃ〜
