# 振り返りスキル（Retrospective）

## 概要

作戦完了後に自動実行される振り返りフレームワークにゃ。
論理的な評価と改善提案を生成するにゃ〜。

## 振り返りの3ステップ

### Step 1: 論点と選択肢の整理

```markdown
## 論点分析

### 主要な論点
1. {論点A}: {なぜこれが論点だったか}
2. {論点B}: {なぜこれが論点だったか}

### 各論点の選択肢

#### 論点A
| 選択肢 | 概要 | 採用 |
|--------|------|------|
| A-1 | {説明} | ✓ |
| A-2 | {説明} | - |
| A-3 | {説明} | - |

**選択理由**: {なぜA-1を選んだか}
```

### Step 2: 評価項目に基づく分析

以下の評価軸で分析するにゃ：

| 評価軸 | 説明 | 重み |
|--------|------|------|
| **効率性** | 時間・リソースの使い方は適切だったか | 25% |
| **品質** | 成果物は要件を満たしているか | 30% |
| **学習** | 新しい知見・パターンを獲得できたか | 20% |
| **再現性** | 次回に活かせる形で記録されているか | 25% |

```markdown
## 評価マトリクス

| 評価軸 | スコア | 根拠 |
|--------|--------|------|
| 効率性 | {1-5} | {具体的な根拠} |
| 品質 | {1-5} | {具体的な根拠} |
| 学習 | {1-5} | {具体的な根拠} |
| 再現性 | {1-5} | {具体的な根拠} |
| **総合** | {加重平均} | |
```

### Step 3: 方向性との整合性評価

プロジェクトの目指す方向性に照らして評価するにゃ：

```markdown
## 方向性との整合性

### プロジェクトの方向性（CLAUDE.mdより）
- {方向性1}
- {方向性2}

### 整合性チェック

| 方向性 | 今回の作戦との整合 | 評価 |
|--------|-------------------|------|
| {方向性1} | {どう貢献したか/しなかったか} | ◎/○/△/× |
| {方向性2} | {どう貢献したか/しなかったか} | ◎/○/△/× |

### ギャップ分析
{方向性と実際の乖離があれば記載}
```

## 改善提案フォーマット

```markdown
## 改善提案

### 即時改善（次回の作戦から）
1. **{改善点}**: {具体的なアクション}
2. **{改善点}**: {具体的なアクション}

### 中期改善（スキル化・仕組み化）
1. **{スキル名}**: {なぜスキル化すべきか}
   - 対象: {どんな場面で使うか}
   - 内容: {スキルに含める知見}

### 長期改善（アーキテクチャ・プロセス）
1. **{改善領域}**: {現状の課題と改善案}
```

## 振り返りレポート全体構成

```markdown
# 振り返りレポート

> 作戦: {作戦名}
> 作戦ID: {command_id}
> 実施日: {timestamp}
> 評価者: 長老猫/番猫

## サマリー

| 項目 | 内容 |
|------|------|
| 総合スコア | {1-5}/5 |
| 主要な成果 | {1行で} |
| 主要な課題 | {1行で} |
| 次回への提言 | {1行で} |

## 1. 論点と選択肢
{Step 1の内容}

## 2. 評価分析
{Step 2の内容}

## 3. 方向性との整合性
{Step 3の内容}

## 4. 改善提案
{改善提案の内容}

## 5. スキル化候補

| スキル名 | 説明 | 優先度 |
|----------|------|--------|
| {name} | {説明} | 高/中/低 |

---
このレポートは自動生成されましたにゃ〜 🐱
```

## 使い方

### 番猫が作戦完了時に呼び出す

```yaml
load_skills:
  - "retrospective"
```

### 長老猫に振り返りを依頼

```yaml
# Task tool で呼び出す
subagent_type: Plan
model: opus
prompt: |
  【振り返り依頼】にゃ

  以下の作戦について振り返りを実施するにゃ：
  - 作戦ID: {command_id}
  - nawabari.md: {内容}
  - 子猫レポート: {queue/reports/の内容}

  .claude/skills/retrospective/SKILL.md のフォーマットに従って
  振り返りレポートを作成するにゃ〜。
```

## 振り返りトリガー

以下のタイミングで自動実行するにゃ：

1. **作戦完了時**（必須）
2. **作戦失敗時**（必須・原因分析重視）
3. **セッション終了時**（オプション・neru.sh実行時）
